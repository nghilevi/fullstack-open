(this.webpackJsonpphonebook=this.webpackJsonpphonebook||[]).push([[0],{15:function(e,n,t){e.exports=t(37)},37:function(e,n,t){"use strict";t.r(n);var a=t(0),r=t.n(a),c=t(14),o=t.n(c),u=t(2),l=function(e){var n=e.handleFilter;return r.a.createElement("div",null,"filter shown with: ",r.a.createElement("input",{onChange:n}))},i=function(e){var n=e.person,t=e.handleRemove;return r.a.createElement("p",null,n.name," ",n.number," ",r.a.createElement("button",{onClick:function(){window.confirm("Delete ".concat(n.name,"?"))&&t(n.id)}},"delete"))},m=function(e){var n,t,a=e.persons,c=e.searchValue,o=e.handleRemove,u=function(e){return r.a.createElement(i,{key:e.name,person:e,handleRemove:o})};return r.a.createElement(r.a.Fragment,null,c?(n=a,t=c,n.filter((function(e){return e.name.toUpperCase()===t.toUpperCase()}))).map(u):a.map(u))},s=function(e){var n=e.newName,t=e.newNumber,a=e.onSubmit,c=e.handleNameChange,o=e.handleNumberChange;return r.a.createElement("form",{onSubmit:a},r.a.createElement("div",null,"name: ",r.a.createElement("input",{value:n,onChange:c})),r.a.createElement("div",null,"number: ",r.a.createElement("input",{value:t,onChange:o})),r.a.createElement("div",null,r.a.createElement("button",{type:"submit"},"add")))},d=t(4),f={borderRadius:"5px",padding:"10px",width:"50%",margin:"10px 5px"},p=Object(d.a)(Object(d.a)({},f),{},{color:"green",backgroundColor:"#cecece",border:"1px solid green"}),b=Object(d.a)(Object(d.a)({},f),{},{color:"red",backgroundColor:"#cecece",border:"1px solid red"}),h=function(e){var n=e.message,t=n.type,a=n.data;return t?r.a.createElement("div",{style:"success"===t?p:b,className:"add-success"},"success"===t?"added ".concat(a):"information of ".concat(a," has been removed")):null},v=t(3),E=t.n(v),g="/api/persons",j=function(){return E.a.get(g).then((function(e){return e.data.persons}))},w=function(e){return E.a.post(g,e)},O=function(e){return E.a.delete("".concat(g,"/").concat(e))},C=function(e,n){return E.a.put("".concat(g,"/").concat(e),n).then((function(e){return e.data}))},k=function(){var e=Object(a.useState)([]),n=Object(u.a)(e,2),t=n[0],c=n[1],o=Object(a.useState)(""),i=Object(u.a)(o,2),d=i[0],f=i[1],p=Object(a.useState)(""),b=Object(u.a)(p,2),v=b[0],E=b[1],g=Object(a.useState)(""),k=Object(u.a)(g,2),N=k[0],y=k[1],S=Object(a.useState)({}),x=Object(u.a)(S,2),R=x[0],F=x[1];Object(a.useEffect)((function(){j().then((function(e){return c(e)}))}),[]);var D=function(e){F(e),setTimeout((function(){return F("")}),2e3)};return r.a.createElement("div",null,r.a.createElement("h2",null,"Phonebook"),r.a.createElement(h,{message:R}),r.a.createElement(l,{handleFilter:function(e){y(e.target.value)}}),r.a.createElement(s,{newName:d,newNumber:v,onSubmit:function(e){e.preventDefault();var n={name:d,number:v},a=t.find((function(e){return e.name===d}));a?window.confirm("".concat(d," is already added to phonebook, replace the old number with the new one?"))&&C(a.id,n).then((function(e){c(t.map((function(n){return n.name===e.name?e:n}))),D({data:n.name,type:"success"})})).catch((function(e){D({data:n.name,type:"err"})})):w(n).then((function(){c(t.concat([n])),D({data:n.name,type:"success"})})),f(""),E("")},handleNameChange:function(e){f(e.target.value)},handleNumberChange:function(e){E(e.target.value)}}),r.a.createElement("h2",null,"Numbers"),r.a.createElement(m,{persons:t,searchValue:N,handleRemove:function(e){O(e).then((function(){c(t.filter((function(n){return n.id!==e})))}))}}))};o.a.render(r.a.createElement(k,null),document.getElementById("root"))}},[[15,1,2]]]);
//# sourceMappingURL=main.9969f78d.chunk.js.map